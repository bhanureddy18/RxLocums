<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>RxLOCUMS</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon" />

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@400;700&family=Roboto:wght@400;700&display=swap"
      rel="stylesheet"
    />

    <!-- Icon Font Stylesheet -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css"
      rel="stylesheet"
    />

    <!-- Libraries Stylesheet -->
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet" />
    <link
      href="lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css"
      rel="stylesheet"
    />

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet" />

    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet" />
    {% load static %}

    <title>RXLOCUMS</title>
    <!-- Favicon -->
    <link href="{% static 'rxApp/img/favicon.ico' %}" rel="icon" />

    <!-- Customized Bootstrap Stylesheet -->
    <link href="{% static 'rxApp/css/bootstrap.min.css' %}" rel="stylesheet" />

    <!-- Template Stylesheet -->
    <link href="{% static 'rxApp/css/style.css' %}" rel="stylesheet" />

    <!-- JavaScript -->
    <script src="{% static 'rxApp/js/script.js' %}"></script>

    <!-- Cursor -->
    <style>
      body {
        cursor: url('{% static "rxApp/img/download.png" %}'), auto !important;
      }
    </style>
  </head>

  <body>
    {% include 'navbar.html' %}

    <div class="container-fluid py-5">
      <div class="container">
        <div class="row gx-5">
          <div class="col-lg-5 mb-5 mb-lg-0" style="min-height: 300px">
            <div class="position-relative h-100">
              <img
                class="position-absolute w-100 h-100 rounded"
                src="{% static 'rxApp/img/Images/nursepageimage1.jpeg' %}"
                style="object-fit: cover"
              />
            </div>
          </div>
          <div class="col-lg-7">
            <p style="font-size: larger">
              RxLOCUMS has a team dedicated to support you in your next career opportunity. We are here to provide you with a loyal support system that helps simplify the process of travel nursing by streamlining every step. In addition, our goal is to empower our nurses to choose the right opportunity and to provide them with steady pay, housing, and benefits. 
            </p>
          </div>
        </div>
      </div>
    </div>
    <div class="container-fluid py-5">
      <div class="container">
        <div class="text-center my-2">
          <h5
            class="d-inline-block text-primary text-uppercase border-bottom border-5"
          >
            Services
          </h5>
        </div>
        <div class="row g-5 d-flex align-items-center justify-content-center">
          <div class="col-lg-4 col-md-6">
            <div
              class="service-item bg-light rounded d-flex flex-column align-items-center justify-content-center text-center"
            >
              <div class="service-icon mb-4">
                <!-- <i class="fa fa-2x fa-briefcase text-black"></i> -->
                <img
                  src="{% static 'rxApp/img/Yourcareerabove.jpeg' %}"
                  alt="Tailoredopportunities"
                  width="100"
                  height="100"
                />
              </div>
              <h4 style="font-weight: 400" class="mb-3">Develop Your Career</h4>
              <p class="m-0">
                Travel nursing offers the opportunity for career development by offering a wide range of healthcare settings to practice in. You’ll have the opportunity to treat new patient populations, learn new EMR systems, and learn new administrative approaches. 
              </p>
              <a class="btn btn-lg btn-primary rounded-pill" href="">
                <i class="bi bi-arrow-right"></i>
              </a>
            </div>
          </div>
          <div class="col-lg-4 col-md-6">
            <div
              class="service-item bg-light rounded d-flex flex-column align-items-center justify-content-center text-center"
            >
              <div class="service-icon mb-4">
                <!-- <i class="fa fa-2x fa-money-bill text-black"></i> -->
                <img
                  src="{% static 'rxApp/img/Costefficiency.jpeg' %}"
                  alt=""
                  width="100"
                  height="100"
                />
              </div>
              <h4 style="font-weight: 400" class="mb-3">Competitive Compensation</h4>
              <p class="m-0">
                It is no secret that travel nursing can provide lucrative compensation since they are often utilized to fill critical staffing gaps. 
              </p>
              <a class="btn btn-lg btn-primary rounded-pill" href="">
                <i class="bi bi-arrow-right"></i>
              </a>
            </div>
          </div>
          <div class="col-lg-4 col-md-6">
            <div
              class="service-item bg-light rounded d-flex flex-column align-items-center justify-content-center text-center"
            >
              <div class="service-icon mb-4">
                <!-- <i class="fa fa-2x fa-plane text-black"></i> -->
                <img
                  src="{% static 'rxApp/img/travelmadeeasy.jpeg' %}"
                  alt="Tailoredopportunities"
                  width="100"
                  height="100"
                />
              </div>
              <h4 style="font-weight: 400" class="mb-3">
                Travel Made Effortless
              </h4>
              <p class="m-0">
                From one assignment to the next, we manage your travel
                logistics, ensuring smooth sailing every step of the way.
              </p>
              <a class="btn btn-lg btn-primary rounded-pill" href="">
                <i class="bi bi-arrow-right"></i>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="container">
      <h5 class="text-center" style="font-weight: lighter">
        Engage with Us Today
      </h5>

      <div class="row justify-content-center">
        <div class="col-12 col-lg-12">
          <div class="bg-white rounded p-2 m-5 mb-0">
            <form method="post" enctype="multipart/form-data">
              {% if messages %}
              <div class="alert alert-primary" role="alert">
                {% for message in messages %} {{ message }} {% endfor %}
              </div>
              {% endif %} {% csrf_token %}
              <div class="row g-3">
                <div class="col-12 col-sm-6">
                  <input
                    name="fullname"
                    type="text"
                    class="form-control bg-light border-0"
                    placeholder="Your Name"
                    style="height: 55px"
                    required
                  />
                </div>
                <div class="col-12 col-sm-6">
                  <input
                    name="email"
                    type="email"
                    class="form-control bg-light border-0"
                    placeholder="Your Email"
                    style="height: 55px"
                    required
                  />
                </div>
                <div class="col-12">
                  <input
                    name="phone"
                    required
                    type="number"
                    class="form-control bg-light border-0"
                    placeholder="Contact Number"
                    style="height: 55px"
                  />
                </div>
                <div class="col-12">
                  <input
                    name="address"
                    required
                    type="text"
                    class="form-control bg-light border-0"
                    placeholder=" Address"
                    style="height: 55px"
                  />
                </div>
                <div class="col-12">
                  <textarea
                    name="message"
                    required
                    class="form-control bg-light border-0"
                    rows="5"
                    placeholder="To better understand and address your needs, could you kindly share the specific assistance you require? "
                  ></textarea>
                </div>
                <div class="container">
                  <div class="select-btn">
                    <span class="btn-text">Select State(s)</span>
                    <span class="arrow-dwn">
                      <i class="fas fa-caret-down"></i>
                    </span>
                  </div>
                  <ul class="list-items"></ul>
                  <input
                    type="hidden"
                    id="selectedStates"
                    name="selectedStates"
                  />
                </div>
                <div class="col-12">
                  <label for="fileupload" class="my-2">Upload Resume</label>
                  <input
                    required
                    type="file"
                    name="resume"
                    id="attachment"
                    class="form-control bg-light border-0 w-full h-full"
                    multiple
                  />
                  <p id="files-area">
                    <span id="filesList">
                      <span id="files-names"></span>
                    </span>
                  </p>
                </div>

                <div class="col-12">
                  <button class="btn btn-primary w-100 py-3" type="submit">
                    Submit
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    {% include 'footer.html' %}
    <!-- Template Javascript -->

    <script>
      // Get the current URL
      var url = window.location.pathname;

      // Remove the trailing slash if there is one
      if (url.endsWith("/")) {
        url = url.slice(0, -1);
      }

      // Get the last part of the URL (after the last slash)
      var page = url.substr(url.lastIndexOf("/") + 1);

      // Map the last part of the URL to the corresponding link ID
      var linkId;
      switch (page) {
        case "":
          linkId = "home-link";
          break;
        case "hospitals":
          linkId = "hospitals-link";
          break;
        case "physicians":
          linkId = "physicians-link";
          break;
        case "nurses":
          linkId = "nurses-link";
          break;
        case "telemedicine":
          linkId = "telemedicine-link";
          break;
        case "visa":
          linkId = "visa-link";
          break;
        case "contact":
          linkId = "contact-link";
          break;
      }

      // Remove the 'active' class from all links
      var navLinks = document.querySelectorAll(".nav-link");
      navLinks.forEach(function (link) {
        link.classList.remove("active");
      });

      // Add the 'active' class to the corresponding link
      if (linkId) {
        document.getElementById(linkId).classList.add("active");
      }
    </script>
    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"
      ><i class="bi bi-arrow-up"></i
    ></a>

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Template Javascript -->
    <script>
      var states = [
        "Alabama",
        "Alaska",
        "Arizona",
        "Arkansas",
        "California",
        "Colorado",
        "Connecticut",
        "Delaware",
        "Florida",
        "Georgia",
        "Hawaii",
        "Idaho",
        "Illinois",
        "Indiana",
        "Iowa",
        "Kansas",
        "Kentucky",
        "Louisiana",
        "Maine",
        "Maryland",
        "Massachusetts",
        "Michigan",
        "Minnesota",
        "Mississippi",
        "Missouri",
        "Montana",
        "Nebraska",
        "Nevada",
        "New Hampshire",
        "New Jersey",
        "New Mexico",
        "New York",
        "North Carolina",
        "North Dakota",
        "Ohio",
        "Oklahoma",
        "Oregon",
        "Pennsylvania",
        "Rhode Island",
        "South Carolina",
        "South Dakota",
        "Tennessee",
        "Texas",
        "Utah",
        "Vermont",
        "Virginia",
        "Washington",
        "West Virginia",
        "Wisconsin",
        "Wyoming",
      ];
      var dropdown = document.querySelector(".list-items");

      for (var i = 0; i < states.length; i++) {
        var listItem = document.createElement("li");
        listItem.classList.add("item");

        var checkboxSpan = document.createElement("span");
        checkboxSpan.classList.add("checkbox");

        var checkIcon = document.createElement("i");
        checkIcon.classList.add("fas", "fa-check", "check-icon");

        var itemTextSpan = document.createElement("span");
        itemTextSpan.classList.add("item-text");
        itemTextSpan.innerText = states[i];

        checkboxSpan.appendChild(checkIcon);
        listItem.appendChild(checkboxSpan);
        listItem.appendChild(itemTextSpan);

        dropdown.appendChild(listItem);
      }

      const selectBtn = document.querySelector(".select-btn");
      selectBtn.addEventListener("click", () => {
        selectBtn.classList.toggle("open");
      });

      // Add click event listeners to the dropdown items
      dropdown.addEventListener("click", function (e) {
        var target = e.target;
        if (
          target.classList.contains("item") ||
          target.parentElement.classList.contains("item")
        ) {
          var item = target.classList.contains("item")
            ? target
            : target.parentElement;
          item.classList.toggle("checked");
          let checked = document.querySelectorAll(".checked"),
            btnText = document.querySelector(".btn-text");
          if (checked && checked.length > 0) {
            btnText.innerText = `${checked.length} States Selected`;
          } else {
            btnText.innerText = "Select State(s)";
          }

          updateSelectedStates();
        }
      });

      // Update the selectedStates hidden input
      function updateSelectedStates() {
        var selectedStates = Array.from(
          dropdown.querySelectorAll(".item.checked")
        ).map(function (item) {
          return item.querySelector(".item-text").innerText;
        });

        document.getElementById("selectedStates").value =
          selectedStates.join(",");
      }
    </script>
    <script>
      const dt = new DataTransfer(); // Permet de manipuler les fichiers de l'input file
      $("#attachment").on("change", function (e) {
        for (var i = 0; i < this.files.length; i++) {
          let fileBloc = $("<span/>", { class: "file-block" }),
            fileName = $("<span/>", {
              class: "name",
              text: this.files.item(i).name,
            }),
            deleteButton = $(
              '<span class="file-delete"><span><i class="fas fa-times"></i></span></span>'
            ); // Create delete button here

          // Attach event handler to delete button
          deleteButton.on("click", function () {
            let name = $(this).siblings("span.name").text(); // Get the name of the file to be removed

            // Remove the file from dt
            for (let i = 0; i < dt.items.length; i++) {
              let file = dt.items[i].getAsFile();
              if (file.name === name) {
                dt.items.remove(i);
                break;
              }
            }

            // Remove the file block from the DOM
            $(this).parent().remove();
          });

          fileBloc
            .append(fileName) // Append fileName first
            .append(deleteButton); // Then append delete button
          $("#filesList > #files-names").append(fileBloc);
        }
        // Ajout des fichiers dans l'objet DataTransfer
        for (let file of this.files) {
          dt.items.add(file);
        }
        // Mise à jour des fichiers de l'input file après ajout
        this.files = dt.files;
      });
    </script>
  </body>
</html>
